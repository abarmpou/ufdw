<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<!-- Mirrored from research.dwi.ufl.edu/projects/ufdw/j4k/DepthMap.php by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 11 Jan 2024 19:31:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>Java for Kinect (J4K) Library</title>
<link rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" type="text/css" href="../ufdw.css">
</head>
<body>


<div id="globalcontainer">
	<div id="myheader"><a href="http://www.digitalworlds.ufl.edu/programs/"><img src="j4k_banner.png"></a></div>
	<div id="myheaderspace"></div>
	<div id="maincontainer">
		<div id="aside">
			<div id="mymainmenu">
			<a href="../index-2.html"><font class="mainmenufont">UFDW Java library</font></a><br><br>
			<a href="index.html"><font class="mainmenufont">J4K Java library</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="J4KSDK.html"><font class="mainmenufont">J4KSDK.class API</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="DepthMap.html"><font class="mainmenufont">DepthMap.class API</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="Skeleton.html"><font class="mainmenufont">Skeleton.class API</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="VideoFrame.html"><font class="mainmenufont">VideoFrame.class API</font></a><br><br>
			<a href="examples.html"><font class="mainmenufont">Source Code Examples</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="SimpleExample.html"><font class="mainmenufont">SimpleExample</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="VideoViewerApp.html"><font class="mainmenufont">VideoViewerApp</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="KinectViewerApp.html"><font class="mainmenufont">KinectViewerApp</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="AugmentedRealityApp.html"><font class="mainmenufont">AugmentedRealityApp</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="ImageAvatarApp.html"><font class="mainmenufont">ImageAvatarApp</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="XEDConvertApp.html"><font class="mainmenufont">XEDConvertApp</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="MultipleKinectApp.html"><font class="mainmenufont">MultipleKinectApp</font></a><br><br>			<a href="projects.html"><font class="mainmenufont">J4K Projects Gallery</font></a> <img src="star.gif" align="middle"><br>
			<a href="papers.html"><font class="mainmenufont">Published Papers</font></a><br><br>
			<a href="../download.html"><font class="mainmenufont">Download</font></a><br>
			<a href="eclipse.html"><font class="mainmenufont">Install in Eclipse</font></a><br>
			<a href="http://www.youtube.com/watch?v=q0K4Y4g-hj0"><font class="mainmenufont">Watch video tutorial</font></a><br><br>
			<a href="people.html"><font class="mainmenufont">People</font></a><br><br>
			<a href="faq.html"><font class="mainmenufont">Frequently Asked Questions</font></a><br><br>
			</div>
		</div>
		<div id="mainarea"><h1>DepthMap class</h1>
<br>
<font class="mainfont">This class offers a convenient way to convert the packed depth frames received by a Kinect sensor into a DepthMap. The DepthMap is internally represented as a 3D surface parameterized as a quadratic mesh (for more technical details you can read <a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=6583279">IEEE Transactions on Cybernetics, 2013</a>, or watch the <a href="http://www.youtube.com/watch?v=zBSiiOIEiPI">VIDEO DEMO</a>). The DepthMap can be saved as a 3D object in VRML format. It can also be rendered in openGL as a textured object, non-textured object, or 3D mesh using <a href="http://jogamp.org/jogl/www/">JogAmp's JOGL Java library</a>. The use of JOGL library is optional and is not required if you don't use the drawing methods provided in the DepthMap class.<br><br>
This class is part of the J4K library, which is included in the <a href="http://www.digitalworlds.ufl.edu/">University of Florida Digital Worlds</a> (ufdw.jar) Java library. This library was developed by Prof. <a href="http://www.digitalworlds.ufl.edu/angelos">Angelos Barmpoutis</a>, and further extended by the students and faculty who work in the SAGE program (Serious and Applied Gaming Environments) at the <a href="http://www.digitalworlds.ufl.edu/">Digital Worlds Institute</a>. You can find more information about how to join our graduate and undergraduate programs <a href="http://www.digitalworlds.ufl.edu/programs/">at this link (www.digitalworlds.ufl.edu)</a>.<br><br>
<font color="#FF0000">If you use this Java library in your research, please cite the following article, which introduced this library:</font><br>
A. Barmpoutis. 'Tensor Body: Real-time Reconstruction of the Human Body and Avatar Synthesis from RGB-D', IEEE Transactions on Cybernetics, Special issue on Computer Vision for RGB-D Sensors: Kinect and Its Applications, October 2013, Vol. 43(5), Pages: 1347-1356. <a href="Kinect_Avatars.pdf">Download PDF - Kinect Avatars paper</a>  [<a href="http://www.youtube.com/watch?v=zBSiiOIEiPI">VIDEO DEMO</a>]
</font>
<br>
<br>
<div class="sourcecode">
<strong><font color='#7f0055'>package</font></strong>&nbsp;edu.ufl.digitalworlds.j4k;
<br/>
<br/><strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>class</font></strong>&nbsp;DepthMap&nbsp;{
<br/>
</div>
<br>
<font class="mainfont">The following methods construct a new object of the DepthMap class in different ways.</font>
<br>
<div class="sourcecode">	
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;constructs&nbsp;a&nbsp;default&nbsp;DepthMap&nbsp;of&nbsp;a&nbsp;given&nbsp;size*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;DepthMap(<strong><font color='#7f0055'>int</font></strong>&nbsp;w, <strong><font color='#7f0055'>int</font></strong>&nbsp;h);
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;constructs&nbsp;a&nbsp;DepthMap&nbsp;out&nbsp;of&nbsp;a&nbsp;depth&nbsp;frame&nbsp;received&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;a&nbsp;Kinect&nbsp;sensor&nbsp;and&nbsp;is&nbsp;given&nbsp;as&nbsp;an&nbsp;XYZ&nbsp;array.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;DepthMap(<strong><font color='#7f0055'>int</font></strong>&nbsp;w, <strong><font color='#7f0055'>int</font></strong>&nbsp;h,&nbsp;<strong><font color='#7f0055'>float</font></strong>&nbsp;XYZ[]);
<br/>
</div>
<br>
<font class="mainfont">You can get the values of various parameters of the DepthMap class using the following methods.</font>
<br>
<div class="sourcecode">
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;returns&nbsp;the&nbsp;width&nbsp;of&nbsp;the&nbsp;DepthMap&nbsp;(in&nbsp;pixels).*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>int</font></strong>&nbsp;getWidth();
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;returns&nbsp;the&nbsp;height&nbsp;of&nbsp;the&nbsp;DepthMap&nbsp;(in&nbsp;pixels).*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>int</font></strong>&nbsp;getHeight();
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;returns&nbsp;true&nbsp;if&nbsp;there&nbsp;is&nbsp;a&nbsp;non-zero&nbsp;depth&nbsp;value&nbsp;at
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;pixel&nbsp;(x,y).*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>boolean</font></strong>&nbsp;validDepthAt(<strong><font color='#7f0055'>int</font></strong>&nbsp;x,&nbsp;<strong><font color='#7f0055'>int</font></strong>&nbsp;y);
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;returns&nbsp;true&nbsp;if&nbsp;there&nbsp;is&nbsp;a&nbsp;non-zero&nbsp;depth&nbsp;value&nbsp;at
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;pixel&nbsp;location&nbsp;(x,y)&nbsp;given&nbsp;as&nbsp;index=y*width+x.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>boolean</font></strong>&nbsp;validDepthAt(<strong><font color='#7f0055'>int</font></strong>&nbsp;index);
<br/>
</div>
<br>
<font class="mainfont">The DepthMap class offers several different ways of visualizing the depth frames in 3D using openGL. The following methods require the <a href="http://jogamp.org/jogl/www/">JOGL Java library</a>.</font>
<br>
<div class="sourcecode">
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;displays&nbsp;the&nbsp;DepthMap&nbsp;as&nbsp;a&nbsp;3D&nbsp;surface.&nbsp;&nbsp;The&nbsp;U,V&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;texture&nbsp;coordinates&nbsp;are&nbsp;used,&nbsp;if&nbsp;available,&nbsp;otherwise&nbsp;the&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;normal&nbsp;vectors&nbsp;of&nbsp;the&nbsp;3D&nbsp;surface&nbsp;are&nbsp;computed&nbsp;for&nbsp;shading&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purposes.&nbsp;This&nbsp;method&nbsp;requires&nbsp;the&nbsp;JOGL&nbsp;Java&nbsp;library.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;draw(GL2&nbsp;gl);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;displays&nbsp;the&nbsp;DepthMap&nbsp;as&nbsp;a&nbsp;3D&nbsp;surface&nbsp;by&nbsp;skipping
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;every&nbsp;'skip'&nbsp;pixels&nbsp;in&nbsp;both&nbsp;dimensions.&nbsp;The&nbsp;U,V&nbsp;texture&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;coordinates&nbsp;are&nbsp;used,&nbsp;if&nbsp;available,&nbsp;otherwise,&nbsp;the&nbsp;normal&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vectors&nbsp;of&nbsp;the&nbsp;3D&nbsp;surface&nbsp;are&nbsp;computed&nbsp;for&nbsp;shading&nbsp;purposes.
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;method&nbsp;requires&nbsp;the&nbsp;JOGL&nbsp;Java&nbsp;library.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;draw(GL2&nbsp;gl,<strong><font color='#7f0055'>int</font></strong>&nbsp;skip);
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;displays&nbsp;the&nbsp;DepthMap&nbsp;as&nbsp;a&nbsp;3D&nbsp;surface.&nbsp;The&nbsp;normal&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vectors&nbsp;of&nbsp;the&nbsp;3D&nbsp;surface&nbsp;are&nbsp;computed&nbsp;for&nbsp;shading&nbsp;purposes.&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;method&nbsp;requires&nbsp;the&nbsp;JOGL&nbsp;Java&nbsp;library.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;drawNormals(GL2&nbsp;gl);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;displays&nbsp;the&nbsp;DepthMap&nbsp;as&nbsp;a&nbsp;3D&nbsp;surface&nbsp;by&nbsp;skipping
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;every&nbsp;'skip'&nbsp;pixels&nbsp;in&nbsp;both&nbsp;dimensions.&nbsp;The&nbsp;normal&nbsp;vectors&nbsp;of&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;3D&nbsp;surface&nbsp;are&nbsp;computed&nbsp;for&nbsp;shading&nbsp;purposes.&nbsp;This&nbsp;method&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;requires&nbsp;the&nbsp;JOGL&nbsp;Java&nbsp;library.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;drawNormals(GL2&nbsp;gl,<strong><font color='#7f0055'>int</font></strong>&nbsp;skip);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;displays&nbsp;the&nbsp;DepthMap&nbsp;as&nbsp;a&nbsp;3D&nbsp;surface&nbsp;using&nbsp;the&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;U,V&nbsp;texture&nbsp;coordinates,&nbsp;if&nbsp;available.&nbsp;This&nbsp;method&nbsp;requires&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;JOGL&nbsp;Java&nbsp;library.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;drawTexture(GL2&nbsp;gl);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;displays&nbsp;the&nbsp;DepthMap&nbsp;as&nbsp;a&nbsp;3D&nbsp;surface&nbsp;by&nbsp;skipping
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;every&nbsp;'skip'&nbsp;pixels&nbsp;in&nbsp;both&nbsp;dimensions.&nbsp;The&nbsp;U,V&nbsp;texture&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;coordinates&nbsp;are&nbsp;used,&nbsp;if&nbsp;available.&nbsp;This&nbsp;method&nbsp;requires&nbsp;the&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JOGL&nbsp;Java&nbsp;library.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;drawTexture(GL2&nbsp;gl,<strong><font color='#7f0055'>int</font></strong>&nbsp;skip);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;displays&nbsp;the&nbsp;DepthMap&nbsp;as&nbsp;a&nbsp;3D&nbsp;surface.&nbsp;The&nbsp;normal&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vectors&nbsp;of&nbsp;the&nbsp;3D&nbsp;surface&nbsp;are&nbsp;computed&nbsp;for&nbsp;shading&nbsp;purposes.&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;U,V&nbsp;texture&nbsp;coordinates&nbsp;are&nbsp;also&nbsp;used,&nbsp;if&nbsp;available.&nbsp;This
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method&nbsp;requires&nbsp;the&nbsp;JOGL&nbsp;Java&nbsp;library.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;drawTextureNormals(GL2&nbsp;gl);&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;displays&nbsp;the&nbsp;DepthMap&nbsp;as&nbsp;a&nbsp;3D&nbsp;surface&nbsp;by&nbsp;skipping
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;every&nbsp;'skip'&nbsp;pixels&nbsp;in&nbsp;both&nbsp;dimensions.&nbsp;The&nbsp;normal&nbsp;vectors&nbsp;of&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;3D&nbsp;surface&nbsp;are&nbsp;computed&nbsp;for&nbsp;shading&nbsp;purposes.&nbsp;The&nbsp;U,V&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;texture&nbsp;coordinates&nbsp;are&nbsp;also&nbsp;used,&nbsp;if&nbsp;available.&nbsp;This&nbsp;method&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;requires&nbsp;the&nbsp;JOGL&nbsp;Java&nbsp;library.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;drawTextureNormals(GL2&nbsp;gl,<strong><font color='#7f0055'>int</font></strong>&nbsp;skip);
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;displays&nbsp;the&nbsp;DepthMap&nbsp;as&nbsp;a&nbsp;3D&nbsp;rectangular&nbsp;grid.
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;normal&nbsp;vectors&nbsp;are&nbsp;computed&nbsp;for&nbsp;shading&nbsp;purposes.&nbsp;This&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method&nbsp;requires&nbsp;the&nbsp;JOGL&nbsp;Java&nbsp;library.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;drawMesh(GL2&nbsp;gl);
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;displays&nbsp;the&nbsp;DepthMap&nbsp;as&nbsp;a&nbsp;3D&nbsp;rectangular&nbsp;grid&nbsp;by
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;skipping&nbsp;every&nbsp;'skip'&nbsp;pixels&nbsp;in&nbsp;both&nbsp;dimensions.&nbsp;The&nbsp;normal&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vectors&nbsp;are&nbsp;computed&nbsp;for&nbsp;shading&nbsp;purposes.&nbsp;This&nbsp;method&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;requires&nbsp;the&nbsp;JOGL&nbsp;Java&nbsp;library.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;drawMesh(GL2&nbsp;gl,&nbsp;<strong><font color='#7f0055'>int</font></strong>&nbsp;skip);
<br/>
</div>
<br/>
<font class="mainfont">The following methods perform calculations related to the 3D visualization of a depth frame. Furthermore, there are methods for masking the depth data in different ways.</font>
<br/>
<div class="sourcecode">
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*With&nbsp;this&nbsp;method&nbsp;you&nbsp;can&nbsp;provide&nbsp;a&nbsp;U,V&nbsp;texture&nbsp;mapping&nbsp;in&nbsp;the
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;form&nbsp;of&nbsp;float&nbsp;array&nbsp;that&nbsp;hold&nbsp;pixel&nbsp;locations&nbsp;in&nbsp;an&nbsp;image.*/</font>&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;setUV(<strong><font color='#7f0055'>float</font></strong>[]&nbsp;UV);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;creates&nbsp;a&nbsp;uniform&nbsp;U,V&nbsp;texture&nbsp;mapping&nbsp;for&nbsp;this&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DepthMap.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;setUVuniform();
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;sets&nbsp;the&nbsp;player&nbsp;index&nbsp;for&nbsp;this&nbsp;DepthMap.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;setPlayerIndex(<strong><font color='#7f0055'>short</font></strong>[]&nbsp;depth_frame, <strong><font color='#7f0055'>byte</font></strong>[]&nbsp;player_index);
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*With&nbsp;this&nbsp;method&nbsp;you&nbsp;can&nbsp;specify&nbsp;the&nbsp;maximum&nbsp;allowed&nbsp;difference&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;depth&nbsp;values&nbsp;within&nbsp;a&nbsp;quad.&nbsp;If&nbsp;a&nbsp;quad&nbsp;does&nbsp;not&nbsp;satisfy&nbsp;this&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;criterion&nbsp;it&nbsp;is&nbsp;not&nbsp;rendered.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;setMaximumAllowedDeltaZ(<strong><font color='#7f0055'>double</font></strong>&nbsp;dz);
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;returns&nbsp;the&nbsp;current&nbsp;maximum&nbsp;allowed&nbsp;difference&nbsp;in&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;depth&nbsp;values&nbsp;within&nbsp;a&nbsp;quad.*/</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>float</font></strong>&nbsp;getMaximumAllowedDeltaZ();
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;masks&nbsp;out&nbsp;all&nbsp;pixels&nbsp;with&nbsp;depth&nbsp;value&nbsp;larger&nbsp;than
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;given&nbsp;threshold.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;maskZ(<strong><font color='#7f0055'>float</font></strong>&nbsp;threshold);
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;masks&nbsp;out&nbsp;all&nbsp;pixels&nbsp;outside&nbsp;the&nbsp;rectange&nbsp;defined
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by&nbsp;a&nbsp;given&nbsp;corner&nbsp;point&nbsp;(x,y)&nbsp;and&nbsp;of&nbsp;size&nbsp;width&nbsp;x&nbsp;height.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;maskRect(<strong><font color='#7f0055'>int</font></strong>&nbsp;x,&nbsp;<strong><font color='#7f0055'>int</font></strong>&nbsp;y,&nbsp;<strong><font color='#7f0055'>int</font></strong>&nbsp;width,&nbsp;<strong><font color='#7f0055'>int</font></strong>&nbsp;height);
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This method performs smoothing of the depth frame.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;smooth();
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This method repeats the smoothing process for several times.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;smooth(<strong><font color='#7f0055'>int</font></strong>&nbsp;times);
</div>
<br/>
<font class="mainfont">Below, there are several methods for saving the depth frames in VRML format.</font>
<br/>
<div class="sourcecode">
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;exports&nbsp;the&nbsp;DepthMap&nbsp;in&nbsp;VRML&nbsp;(wrl)&nbsp;format.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;saveWRL(String&nbsp;filename);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;method&nbsp;exports&nbsp;the&nbsp;DepthMap&nbsp;in&nbsp;VRML&nbsp;(wrl)&nbsp;format&nbsp;by&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;skipping&nbsp;every&nbsp;'skip'&nbsp;pixels&nbsp;in&nbsp;both&nbsp;dimensions.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;saveWRL(String&nbsp;filename,&nbsp;<strong><font color='#7f0055'>int</font></strong>&nbsp;skip)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</div>
<br/>
<font class="mainfont">Finally, you can have direct access to the data of a depth frame by using the following public arrays.</font>
<br/>
<div class="sourcecode">
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*The&nbsp;following&nbsp;public&nbsp;arrays&nbsp;contain&nbsp;the&nbsp;parameters&nbsp;of&nbsp;the&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DepthMap.&nbsp;You&nbsp;can&nbsp;directly&nbsp;read&nbsp;or&nbsp;write&nbsp;to&nbsp;these&nbsp;arrays&nbsp;to
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alter&nbsp;the&nbsp;DepthMap&nbsp;in&nbsp;your&nbsp;custom&nbsp;algorithms.*/</font>&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>float</font></strong>&nbsp;realX[]=<strong><font color='#7f0055'>null</font></strong>;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>float</font></strong>&nbsp;realY[]=<strong><font color='#7f0055'>null</font></strong>;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>float</font></strong>&nbsp;realZ[]=<strong><font color='#7f0055'>null</font></strong>;
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>float</font></strong>&nbsp;U[]=<strong><font color='#7f0055'>null</font></strong>;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>float</font></strong>&nbsp;V[]=<strong><font color='#7f0055'>null</font></strong>;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*The&nbsp;player&nbsp;array&nbsp;provides&nbsp;a&nbsp;player&nbsp;ID&nbsp;at&nbsp;each&nbsp;pixel&nbsp;of&nbsp;the
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DepthMap.&nbsp;The&nbsp;playerID&nbsp;information&nbsp;is&nbsp;included&nbsp;in&nbsp;the&nbsp;packed
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;depth&nbsp;frames&nbsp;received&nbsp;from&nbsp;the&nbsp;Kinect.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>byte</font></strong>&nbsp;player[]=<strong><font color='#7f0055'>null</font></strong>;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>boolean</font></strong>&nbsp;mask[]=<strong><font color='#7f0055'>null</font></strong>;
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*You&nbsp;can&nbsp;provide&nbsp;a&nbsp;4x4&nbsp;transformation&nbsp;matrix&nbsp;to&nbsp;be&nbsp;applied&nbsp;to&nbsp;the
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DepthMap.&nbsp;The&nbsp;transformation&nbsp;should&nbsp;be&nbsp;given&nbsp;in&nbsp;a&nbsp;1D&nbsp;array&nbsp;form
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arranged&nbsp;by&nbsp;columns.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>double</font></strong>&nbsp;transformation[];&nbsp;&nbsp;&nbsp;&nbsp;
<br/>}
<br/>
</div>
<br/>
<font class="mainfont">
<font class="mainfont2"><b>What to do next:</b></font><br>
<li>You can download several source code examples from the <a href="examples.html">Source Code Examples</a> website. </li>
<li>You can also read a brief tutorial on <a href="examples.html#how">"How to write your own Kinect-Java programs"</a>.</li></font><br>
<br>
<font class="mainfont"><b>Disclaimer:</b> The names JAVA and KINECT and their associated logos are trademarks of their respective copyright owners Oracle and Microsoft. None of these companies endorse, fund, or are in any way associated with the J4K library.</font>
<br>
<br>
<font class="mainfont"><b>Disclaimer:</b> This software is provided for free without any warranty expressed or implied for academic, research, and strictly non commercial purposes only. By downloading this library you accept the <a href="../terms.html" target="_blank">Terms and Conditions</a>.
</font>
<br>
<br>
</div>

	</div>
	<div id="myfooter"><h5><a href="http://www.digitalworlds.ufl.edu/">University of Florida, Digital Worlds Institute, P.O.Box 115810, 101 Norman Gym, Gainesville, FL 32611-5810, USA</a></h5></div>
</div>

</body>

<!-- Mirrored from research.dwi.ufl.edu/projects/ufdw/j4k/DepthMap.php by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 11 Jan 2024 19:31:23 GMT -->
</html>