<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<!-- Mirrored from research.dwi.ufl.edu/projects/ufdw/j4k/examples.php by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 11 Jan 2024 19:30:59 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>Java for Kinect (J4K) Library</title>
<link rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" type="text/css" href="../ufdw.css">
</head>
<body>


<div id="globalcontainer">
	<div id="myheader"><a href="http://www.digitalworlds.ufl.edu/programs/"><img src="j4k_banner.png"></a></div>
	<div id="myheaderspace"></div>
	<div id="maincontainer">
		<div id="aside">
			<div id="mymainmenu">
			<a href="../index-2.html"><font class="mainmenufont">UFDW Java library</font></a><br><br>
			<a href="index.html"><font class="mainmenufont">J4K Java library</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="J4KSDK.html"><font class="mainmenufont">J4KSDK.class API</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="DepthMap.html"><font class="mainmenufont">DepthMap.class API</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="Skeleton.html"><font class="mainmenufont">Skeleton.class API</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="VideoFrame.html"><font class="mainmenufont">VideoFrame.class API</font></a><br><br>
			<a href="examples.html"><font class="mainmenufont">Source Code Examples</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="SimpleExample.html"><font class="mainmenufont">SimpleExample</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="VideoViewerApp.html"><font class="mainmenufont">VideoViewerApp</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="KinectViewerApp.html"><font class="mainmenufont">KinectViewerApp</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="AugmentedRealityApp.html"><font class="mainmenufont">AugmentedRealityApp</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="ImageAvatarApp.html"><font class="mainmenufont">ImageAvatarApp</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="XEDConvertApp.html"><font class="mainmenufont">XEDConvertApp</font></a><br>
			&nbsp;&nbsp;&nbsp;&nbsp;<a href="MultipleKinectApp.html"><font class="mainmenufont">MultipleKinectApp</font></a><br><br>			<a href="projects.html"><font class="mainmenufont">J4K Projects Gallery</font></a> <img src="star.gif" align="middle"><br>
			<a href="papers.html"><font class="mainmenufont">Published Papers</font></a><br><br>
			<a href="../download.html"><font class="mainmenufont">Download</font></a><br>
			<a href="eclipse.html"><font class="mainmenufont">Install in Eclipse</font></a><br>
			<a href="http://www.youtube.com/watch?v=q0K4Y4g-hj0"><font class="mainmenufont">Watch video tutorial</font></a><br><br>
			<a href="people.html"><font class="mainmenufont">People</font></a><br><br>
			<a href="faq.html"><font class="mainmenufont">Frequently Asked Questions</font></a><br><br>
			</div>
		</div>
		<div id="mainarea"><h1>Source Code Examples</h1>
<br>
<font class="mainfont">
This website offers several source code examples of Kinect-enabled applications in Java. The examples use the <a href="index.html">J4K Java library</a>, which is compatible with all kinect devices (Kinect for Windows, Kinect for XBOX, new Kinect, or Kinect 2). The classes in the J4K library communicate directly with a native Windows library, which handles the video, depth, and skeleton streams of the Kinect using the <a href="http://docs.oracle.com/javase/6/docs/technotes/guides/jni/">Java Native Interface (JNI)</a>. More information about the J4K library can be found <a href="index.html">in this link</a>.<br><br>
<img src="3dviews.jpg"><br><br>
The examples contain the following applications:<br>
<li><b>SimpleExample</b> A simple example that shows how to receive the detected skeleton frames, depth frames, and color frames from the Kinect sensor. <a href="SimpleExample.html">More details...</a>
<br>
<a href="../downloadee1a.html?f=j4k-examples.zip"><img src="button_getcode.png"></a>
</li>
<li><b>VideoViewerApp</b> A simple video viewer that shows how to receive and display live the color frames from the Kinect video stream. <a href="VideoViewerApp.html">More details...</a>
<br>
<a href="../downloadee1a.html?f=j4k-examples.zip"><img src="button_getcode.png"></a>
</li>
<li><b>KinectViewerApp</b> A simple Kinect viewer that visualizes the live depth frames as a 3D surface and also shows the detected skeleton, color, and infrared streams. It also offers many choices for changing the resolution and type of streams and for controlling other parameters of the sensors. <a href="KinectViewerApp.html">More details...</a>
<br>
<a href="../downloadee1a.html?f=j4k-examples.zip"><img src="button_getcode.png"></a>
</li>
<li><b>AugmentedRealityApp</b> This example combines the skeleton stream, depth stream, and video stream into an augmented reality application that shows the user holding a virtual box. The user can move, rotate, and scale up and down the box using natural gestures. <a href="AugmentedRealityApp.html">More details...</a>
<br>
<a href="../downloadee1a.html?f=j4k-examples.zip"><img src="button_getcode.png"></a>
</li>
<li><b>ImageAvatarApp</b> This is a simple Java application that uses the skeleton streams of a Kinect sensor and visualizes them as simple cardboard avatars, composed out of flat, 2D images. It also offers choices for changing the appearance of the avatars and the 3D scene. <a href="ImageAvatarApp.html">More details...</a>
<br>
<a href="../downloadee1a.html?f=j4k-examples.zip"><img src="button_getcode.png"></a>
</li>
<li><b>XEDConvertApp</b> A simple application that can convert Kinect stream files recorded in XED format, by playing them in this Kinect-enabled example program and record the depth frames in a raw binary file that you can open later by your own programs. You can also use this application to record a live sequence of depth frames. <a href="XEDConvertApp.html">More details...</a>
<br>
<a href="../downloadee1a.html?f=j4k-examples.zip"><img src="button_getcode.png"></a>
</li>
<li><b>MultipleKinectApp</b> In this example, the video, depth, and skeleton streams from 2 Kinect sensors are opened and shown in a graphical user layout similar to the one used in <a href="KinectViewerApp.html">KinectViewerApp</a>. This application can be easily extended to handle more Kinect sensors. It is assumed that your computer has sufficient USB bandwidth to support more than one Kinect sensor. <a href="MultipleKinectApp.html">More details...</a>
<br>
<a href="../downloadee1a.html?f=j4k-examples.zip"><img src="button_getcode.png"></a>
</li>
</font>
<br><a name="how"></a>
<h1>How to write your own Kinect-Java programs</h1>
<br>
<font class="mainfont">
This tutorial will show you how to develop your own computer vision applications using Kinect in Java.<br> 
<iframe width="420" height="315" src="http://www.youtube.com/embed/q0K4Y4g-hj0" frameborder="0" allowfullscreen></iframe><br><br>
The most important part of code in all the provided examples is the definition of a Java class that handles the live streams received from a Kinect sensor. You can easily define such a class in less than 10 lines of java code!<br><br>
Here is how:
</font>
<br>
<br>
<div class="sourcecode">
<strong><font color='#7f0055'>import</font></strong>&nbsp;edu.ufl.digitalworlds.j4k.J4KSDK;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;edu.ufl.digitalworlds.j4k.DepthMap;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;edu.ufl.digitalworlds.j4k.Skeleton;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;edu.ufl.digitalworlds.j4k.VideoFrame;
<br/>
<br/><font color='#3f7f5f'>/*This&nbsp;class&nbsp;is&nbsp;an&nbsp;implementation&nbsp;of&nbsp;the&nbsp;abstract&nbsp;class&nbsp;J4KSDK.
<br/>&nbsp;&nbsp;It&nbsp;is&nbsp;a&nbsp;simple&nbsp;example&nbsp;of&nbsp;source&nbsp;code&nbsp;that&nbsp;shows&nbsp;how&nbsp;to&nbsp;read&nbsp;
<br/>&nbsp;&nbsp;depth,&nbsp;video,&nbsp;and&nbsp;skeleton&nbsp;frames&nbsp;from&nbsp;a&nbsp;Kinect&nbsp;sensor.*/</font>
<br/><strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>class</font></strong>&nbsp;Kinect&nbsp;<strong><font color='#7f0055'>extends</font></strong>&nbsp;J4KSDK{
</div>
<br>
<font class="mainfont">First of all, your class should extend the J4KSDK class from the J4K library, as shown above. Optionally, you can define your own constructor and custom parameters for your class, as shown in the example below.</font>
<br>
<br>
<div class="sourcecode">
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*This&nbsp;object&nbsp;will&nbsp;hold&nbsp;the&nbsp;current&nbsp;video&nbsp;frame&nbsp;received&nbsp;from&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;Kinect&nbsp;video&nbsp;camera.*/</font>&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;VideoFrame&nbsp;videoTexture;
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*The&nbsp;constructor&nbsp;of&nbsp;the&nbsp;class&nbsp;initializes&nbsp;the&nbsp;native&nbsp;Kinect
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SKD&nbsp;libraries&nbsp;and&nbsp;creates&nbsp;a&nbsp;new&nbsp;VideoFrame&nbsp;object.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;Kinect()&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>super</font></strong>();
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;videoTexture=<strong><font color='#7f0055'>new</font></strong>&nbsp;VideoFrame();
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}
</div>
<br>
<font class="mainfont">Finally, you have to implement the interface of the 3 methods that will be automatically called every time a new depth, video, or skeleton frame is received from the Kinect sensor. You can customize the content of these 3 methods according to the needs of your application. An example of such implementation is shown below.</font>
<br>
<br>
<div class="sourcecode">
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*The&nbsp;following&nbsp;method&nbsp;will&nbsp;run&nbsp;every&nbsp;time&nbsp;a&nbsp;new&nbsp;depth&nbsp;frame&nbsp;is
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;received&nbsp;from&nbsp;the&nbsp;Kinect&nbsp;sensor.&nbsp;The&nbsp;data&nbsp;of&nbsp;the&nbsp;depth&nbsp;frame&nbsp;is
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;converted&nbsp;into&nbsp;a&nbsp;DepthMap&nbsp;object,&nbsp;with&nbsp;U,V&nbsp;texture&nbsp;mapping&nbsp;if
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;available.*/</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#646464'>@Override</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;onDepthFrameEvent(<strong><font color='#7f0055'>short</font></strong>[]&nbsp;depth_frame,&nbsp;<strong><font color='#7f0055'>byte</font></strong>[]&nbsp;player_index,&nbsp;<strong><font color='#7f0055'>float</font></strong>[]&nbsp;XYZ,&nbsp;<strong><font color='#7f0055'>float</font></strong>[]&nbsp;UV)&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DepthMap&nbsp;map=<strong><font color='#7f0055'>new</font></strong>&nbsp;DepthMap(getDepthWidth(),getDepthHeight(),XYZ);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>if</font></strong>(UV!=<strong><font color='#7f0055'>null</font></strong>)&nbsp;map.setUV(UV);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*The&nbsp;following&nbsp;method&nbsp;will&nbsp;run&nbsp;every&nbsp;time&nbsp;a&nbsp;new&nbsp;skeleton&nbsp;frame
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;received&nbsp;from&nbsp;the&nbsp;Kinect&nbsp;sensor.&nbsp;The&nbsp;skeletons&nbsp;are&nbsp;converted
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;Skeleton&nbsp;objects.*/</font>&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#646464'>@Override</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;onSkeletonFrameEvent(<strong><font color='#7f0055'>boolean</font></strong>[]&nbsp;skeleton_tracked,&nbsp;<strong><font color='#7f0055'>float</font></strong>[]&nbsp;joint_position,&nbsp;<strong><font color='#7f0055'>float</font></strong>[]&nbsp;joint_orientation,&nbsp;<strong><font color='#7f0055'>byte</font></strong>[]&nbsp;joint_status)&nbsp;{
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Skeleton&nbsp;skeletons[]=<strong><font color='#7f0055'>new</font></strong>&nbsp;Skeleton[getMaxNumberOfSkeletons()];
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>for</font></strong>(<strong><font color='#7f0055'>int</font></strong>&nbsp;i=0;i&lt;getMaxNumberOfSkeletons();i++)
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;skeletons[i]=Skeleton.getSkeleton(i,&nbsp;skeleton_tracked,&nbsp;joint_position,&nbsp;joint_orientation,&nbsp;joint_status,&nbsp;<strong><font color='#7f0055'>this</font></strong>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*The&nbsp;following&nbsp;method&nbsp;will&nbsp;run&nbsp;every&nbsp;time&nbsp;a&nbsp;new&nbsp;color&nbsp;frame
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;received&nbsp;from&nbsp;the&nbsp;Kinect&nbsp;video&nbsp;camera.&nbsp;The&nbsp;incoming&nbsp;frame
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;passed&nbsp;to&nbsp;the&nbsp;videoTexture&nbsp;object&nbsp;to&nbsp;update&nbsp;its&nbsp;content.*/</font>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#646464'>@Override</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;onColorFrameEvent(<strong><font color='#7f0055'>byte</font></strong>[]&nbsp;data)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;videoTexture.update(getColorWidth(),&nbsp;getColorHeight(),&nbsp;data);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#3f7f5f'>/*Similarly&nbsp;you&nbsp;can&nbsp;define&nbsp;methods&nbsp;that&nbsp;will&nbsp;run&nbsp;every&nbsp;time&nbsp;an
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;infrared&nbsp;frame&nbsp;is&nbsp;received&nbsp;from&nbsp;the&nbsp;Kinect&nbsp;sensor.*/</font>&nbsp;
<br/>}
<br/>
</div>
<br>
<font class="mainfont">That's it! A simpler implementation can be written in less than 10 lines. As easy as A-B-C!</font>
<br>
<br>
<br>
<font class="mainfont"><b>Disclaimer:</b> The names JAVA and KINECT and their associated logos are trademarks of their respective copyright owners Oracle and Microsoft. None of these companies endorse, fund, or are in any way associated with the J4K library.</font>
<br>
<br>
<font class="mainfont"><b>Disclaimer:</b> This software is provided for free without any warranty expressed or implied for academic, research, and strictly non commercial purposes only. By downloading this library you accept the <a href="../terms.html" target="_blank">Terms and Conditions</a>.
</font>
<br>
<br>
</div>

	</div>
	<div id="myfooter"><h5><a href="http://www.digitalworlds.ufl.edu/">University of Florida, Digital Worlds Institute, P.O.Box 115810, 101 Norman Gym, Gainesville, FL 32611-5810, USA</a></h5></div>
</div>

</body>

<!-- Mirrored from research.dwi.ufl.edu/projects/ufdw/j4k/examples.php by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 11 Jan 2024 19:31:01 GMT -->
</html>